name: "Deploy to aws"

#Trigger the workflow from the github ui
on: workflow_dispatch

jobs:
  deploy:
    runs-on: self-hosted

    steps:
      - name: "Setup nodejs"
    uses: actions/setup-node@v2
    with:
    node-version: "24"
      
      - name: "Checkout code"
      uses: actions/Checkout@v2

      -  name: "Install dependencies"
          run: npm install pm2 -g

          -name: "Run the tests"
          run: npm test

          -namw: :"Deploy to aws"
          run:pm2 start src/index.js